{"mappings":"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","sources":["<anon>","src/app.js"],"sourcesContent":["var $e73bf42412feb220$exports = {};\nconst $e73bf42412feb220$var$chatContainer = document.getElementById(\"chat-container\");\nconst $e73bf42412feb220$var$messageForm = document.getElementById(\"message-form\");\nconst $e73bf42412feb220$var$userInput = document.getElementById(\"user-input\");\nconst $e73bf42412feb220$var$articleContent = document.getElementById(\"article-content\");\nconst $e73bf42412feb220$var$articleSection = document.getElementById(\"article-section\");\nconst $e73bf42412feb220$var$newChatBtn = document.getElementById(\"new-chat-btn\");\n// Create a message bubble\nfunction $e73bf42412feb220$var$createMessageBubble(content, sender = \"user\") {\n    const wrapper = document.createElement(\"div\");\n    wrapper.classList.add(\"mb-6\", \"flex\", \"items-start\", \"space-x-3\", \"p-4\");\n    // Avatar\n    const avatar = document.createElement(\"div\");\n    avatar.classList.add(\"w-10\", \"h-10\", \"rounded-full\", \"flex-shrink-0\", \"flex\", \"items-center\", \"justify-center\", \"font-bold\", \"text-white\");\n    if (sender === \"assistant\") {\n        avatar.classList.add(\"bg-gradient-to-br\", \"from-pink-200\", \"to-blue-400\");\n        avatar.textContent = \"\\uD83E\\uDD16\";\n    } else {\n        avatar.classList.add(\"bg-gradient-to-br\", \"from-blue-300\", \"to-blue-600\");\n        avatar.textContent = \"ME\";\n    }\n    // Bubble\n    const bubble = document.createElement(\"div\");\n    bubble.classList.add(\"max-w-full\", \"md:max-w-2xl\", \"p-3\", \"rounded-lg\", \"whitespace-pre-wrap\", \"leading-relaxed\", \"shadow-sm\");\n    if (sender === \"assistant\") bubble.classList.add(\"bg-blue-600\", \"text-white\");\n    else bubble.classList.add(\"bg-blue-50\", \"text-gray-900\");\n    bubble.textContent = content;\n    wrapper.appendChild(avatar);\n    wrapper.appendChild(bubble);\n    return wrapper;\n}\n// Extract economic terms from the assistant's response\nfunction $e73bf42412feb220$var$extractEconomicTerms(response) {\n    const terms = [];\n    const lines = response.split('\\n');\n    for (const line of lines){\n        const match = line.match(/\\d+\\.\\s+([^:]+):/);\n        if (match) terms.push(match[1].trim());\n    }\n    return terms;\n}\n// Display article content with highlighted terms\nfunction $e73bf42412feb220$var$displayArticleContent(content, economicTerms = []) {\n    $e73bf42412feb220$var$articleContent.innerHTML = '';\n    const textContent = document.createElement(\"div\");\n    textContent.classList.add(\"text-gray-800\", \"leading-relaxed\", \"whitespace-pre-line\");\n    // Show the article section when there's content\n    $e73bf42412feb220$var$articleSection.classList.remove(\"hidden\");\n    if (economicTerms.length > 0) {\n        // Highlight economic terms with blue background and better contrast\n        let highlightedContent = content;\n        economicTerms.forEach((term)=>{\n            const regex = new RegExp(`(${term})`, 'gi');\n            highlightedContent = highlightedContent.replace(regex, '<span class=\"bg-blue-100 text-blue-800 px-1 py-0.5 rounded font-medium\">$1</span>');\n        });\n        textContent.innerHTML = highlightedContent;\n    } else textContent.textContent = content;\n    $e73bf42412feb220$var$articleContent.appendChild(textContent);\n}\n// Scroll to bottom\nfunction $e73bf42412feb220$var$scrollToBottom() {\n    $e73bf42412feb220$var$chatContainer.scrollTop = $e73bf42412feb220$var$chatContainer.scrollHeight;\n}\n// Simulate assistant response with backend integration\nasync function $e73bf42412feb220$var$getAssistantResponse(userMessage) {\n    try {\n        const response = await fetch(\"http://localhost:8000/findword\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                message: userMessage\n            })\n        });\n        if (!response.ok) throw new Error(`Backend error: ${response.statusText}`);\n        const data = await response.json();\n        // Extract economic terms from the response\n        const economicTerms = $e73bf42412feb220$var$extractEconomicTerms(data.reply);\n        // Display the article content with highlighted terms\n        if (data.article_content) $e73bf42412feb220$var$displayArticleContent(data.article_content, economicTerms);\n        return data.reply || \"No response from backend\";\n    } catch (error) {\n        console.error(\"Error communicating with the backend:\", error);\n        return \"Sorry, there was an error processing your request.\";\n    }\n}\n$e73bf42412feb220$var$newChatBtn.addEventListener(\"click\", ()=>{\n    // Clear chat container\n    $e73bf42412feb220$var$chatContainer.innerHTML = \"\";\n    // Clear article section\n    $e73bf42412feb220$var$articleContent.innerHTML = \"\";\n    $e73bf42412feb220$var$articleSection.classList.add(\"hidden\");\n    // Clear input\n    $e73bf42412feb220$var$userInput.value = \"\";\n});\n// Handle form submission\n$e73bf42412feb220$var$messageForm.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    const message = $e73bf42412feb220$var$userInput.value.trim();\n    if (!message) return;\n    // User message\n    $e73bf42412feb220$var$chatContainer.appendChild($e73bf42412feb220$var$createMessageBubble(message, \"user\"));\n    $e73bf42412feb220$var$userInput.value = \"\";\n    $e73bf42412feb220$var$scrollToBottom();\n    // Assistant response\n    const response = await $e73bf42412feb220$var$getAssistantResponse(message);\n    $e73bf42412feb220$var$chatContainer.appendChild($e73bf42412feb220$var$createMessageBubble(response, \"assistant\"));\n    $e73bf42412feb220$var$scrollToBottom();\n});\n\n\n//# sourceMappingURL=index.f2f8c1bd.js.map\n","const chatContainer = document.getElementById(\"chat-container\");\r\nconst messageForm = document.getElementById(\"message-form\");\r\nconst userInput = document.getElementById(\"user-input\");\r\nconst articleContent = document.getElementById(\"article-content\");\r\nconst articleSection = document.getElementById(\"article-section\");\r\nconst newChatBtn = document.getElementById(\"new-chat-btn\");\r\n\r\n\r\n// Create a message bubble\r\nfunction createMessageBubble(content, sender = \"user\") {\r\n  const wrapper = document.createElement(\"div\");\r\n  wrapper.classList.add(\"mb-6\", \"flex\", \"items-start\", \"space-x-3\", \"p-4\");\r\n\r\n  // Avatar\r\n  const avatar = document.createElement(\"div\");\r\n  avatar.classList.add(\r\n      \"w-10\",\r\n      \"h-10\",\r\n      \"rounded-full\",\r\n      \"flex-shrink-0\",\r\n      \"flex\",\r\n      \"items-center\",\r\n      \"justify-center\",\r\n      \"font-bold\",\r\n      \"text-white\"\r\n  );\r\n\r\n  if (sender === \"assistant\") {\r\n      avatar.classList.add(\"bg-gradient-to-br\", \"from-pink-200\", \"to-blue-400\");\r\n      avatar.textContent = \"ðŸ¤–\";\r\n  } else {\r\n      avatar.classList.add(\"bg-gradient-to-br\", \"from-blue-300\", \"to-blue-600\");\r\n      avatar.textContent = \"ME\";\r\n  }\r\n\r\n  // Bubble\r\n  const bubble = document.createElement(\"div\");\r\n  bubble.classList.add(\r\n      \"max-w-full\",\r\n      \"md:max-w-2xl\",\r\n      \"p-3\",\r\n      \"rounded-lg\",\r\n      \"whitespace-pre-wrap\",\r\n      \"leading-relaxed\",\r\n      \"shadow-sm\"\r\n  );\r\n\r\n  if (sender === \"assistant\") {\r\n    bubble.classList.add(\"bg-blue-600\", \"text-white\");\r\n  } else {\r\n    bubble.classList.add(\"bg-blue-50\", \"text-gray-900\");\r\n  }\r\n\r\n  bubble.textContent = content;\r\n\r\n  wrapper.appendChild(avatar);\r\n  wrapper.appendChild(bubble);\r\n  return wrapper;\r\n}\r\n\r\n// Extract economic terms from the assistant's response\r\nfunction extractEconomicTerms(response) {\r\n    const terms = [];\r\n    const lines = response.split('\\n');\r\n    for (const line of lines) {\r\n        const match = line.match(/\\d+\\.\\s+([^:]+):/);\r\n        if (match) {\r\n            terms.push(match[1].trim());\r\n        }\r\n    }\r\n    return terms;\r\n}\r\n\r\n// Display article content with highlighted terms\r\nfunction displayArticleContent(content, economicTerms = []) {\r\n  articleContent.innerHTML = '';\r\n  const textContent = document.createElement(\"div\");\r\n  textContent.classList.add(\"text-gray-800\", \"leading-relaxed\", \"whitespace-pre-line\");\r\n  \r\n  // Show the article section when there's content\r\n  articleSection.classList.remove(\"hidden\");\r\n  \r\n  if (economicTerms.length > 0) {\r\n      // Highlight economic terms with blue background and better contrast\r\n      let highlightedContent = content;\r\n      economicTerms.forEach(term => {\r\n          const regex = new RegExp(`(${term})`, 'gi');\r\n          highlightedContent = highlightedContent.replace(\r\n              regex, \r\n              '<span class=\"bg-blue-100 text-blue-800 px-1 py-0.5 rounded font-medium\">$1</span>'\r\n          );\r\n      });\r\n      textContent.innerHTML = highlightedContent;\r\n  } else {\r\n      textContent.textContent = content;\r\n  }\r\n  \r\n  articleContent.appendChild(textContent);\r\n}\r\n\r\n// Scroll to bottom\r\nfunction scrollToBottom() {\r\n    chatContainer.scrollTop = chatContainer.scrollHeight;\r\n}\r\n\r\n// Simulate assistant response with backend integration\r\nasync function getAssistantResponse(userMessage) {\r\n    try {\r\n        const response = await fetch(\"http://localhost:8000/findword\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({ message: userMessage })\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`Backend error: ${response.statusText}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        \r\n        // Extract economic terms from the response\r\n        const economicTerms = extractEconomicTerms(data.reply);\r\n        \r\n        // Display the article content with highlighted terms\r\n        if (data.article_content) {\r\n            displayArticleContent(data.article_content, economicTerms);\r\n        }\r\n        \r\n        return data.reply || \"No response from backend\";\r\n    } catch (error) {\r\n        console.error(\"Error communicating with the backend:\", error);\r\n        return \"Sorry, there was an error processing your request.\";\r\n    }\r\n}\r\n\r\nnewChatBtn.addEventListener(\"click\", () => {\r\n  // Clear chat container\r\n  chatContainer.innerHTML = \"\";\r\n  \r\n  // Clear article section\r\n  articleContent.innerHTML = \"\";\r\n  articleSection.classList.add(\"hidden\");\r\n  \r\n  // Clear input\r\n  userInput.value = \"\";\r\n});\r\n\r\n// Handle form submission\r\nmessageForm.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n    const message = userInput.value.trim();\r\n    if (!message) return;\r\n\r\n    // User message\r\n    chatContainer.appendChild(createMessageBubble(message, \"user\"));\r\n    userInput.value = \"\";\r\n    scrollToBottom();\r\n\r\n    // Assistant response\r\n    const response = await getAssistantResponse(message);\r\n    chatContainer.appendChild(createMessageBubble(response, \"assistant\"));\r\n    scrollToBottom();\r\n});"],"names":["$e73bf42412feb220$var$chatContainer","document","getElementById","$e73bf42412feb220$var$messageForm","$e73bf42412feb220$var$userInput","$e73bf42412feb220$var$articleContent","$e73bf42412feb220$var$articleSection","$e73bf42412feb220$var$createMessageBubble","content","sender","wrapper","createElement","classList","add","avatar","textContent","bubble","appendChild","$e73bf42412feb220$var$scrollToBottom","scrollTop","scrollHeight","$e73bf42412feb220$var$getAssistantResponse","userMessage","response","fetch","method","headers","body","JSON","stringify","message","ok","Error","statusText","data","json","economicTerms","$e73bf42412feb220$var$extractEconomicTerms","terms","line","split","match","push","trim","reply","article_content","$e73bf42412feb220$var$displayArticleContent","innerHTML","remove","length","highlightedContent","forEach","term","regex","RegExp","replace","error","console","$e73bf42412feb220$var$newChatBtn","addEventListener","value","e","preventDefault"],"version":3,"file":"index.f2f8c1bd.js.map"}
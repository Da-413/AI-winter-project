const e=document.getElementById("chat-container"),t=document.getElementById("message-form"),n=document.getElementById("user-input"),a=document.getElementById("article-content"),r=document.getElementById("article-section");function s(e,t="user"){let n=document.createElement("div");n.classList.add("mb-6","flex","items-start","space-x-3","p-4");let a=document.createElement("div");a.classList.add("w-10","h-10","rounded-full","flex-shrink-0","flex","items-center","justify-center","font-bold","text-white"),"assistant"===t?(a.classList.add("bg-gradient-to-br","from-pink-200","to-blue-400"),a.textContent="\uD83E\uDD16"):(a.classList.add("bg-gradient-to-br","from-blue-300","to-blue-600"),a.textContent="ME");let r=document.createElement("div");return r.classList.add("max-w-full","md:max-w-2xl","p-3","rounded-lg","whitespace-pre-wrap","leading-relaxed","shadow-sm"),"assistant"===t?r.classList.add("bg-blue-600","text-white"):r.classList.add("bg-blue-50","text-gray-900"),r.textContent=e,n.appendChild(a),n.appendChild(r),n}function l(){e.scrollTop=e.scrollHeight}async function d(e){try{let t=await fetch("http://localhost:8000/findword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(!t.ok)throw Error(`Backend error: ${t.statusText}`);let n=await t.json(),s=function(e){let t=[];for(let n of e.split("\n")){let e=n.match(/\d+\.\s+([^:]+):/);e&&t.push(e[1].trim())}return t}(n.reply);return n.article_content&&function(e,t=[]){a.innerHTML="";let n=document.createElement("div");if(n.classList.add("text-gray-800","leading-relaxed","whitespace-pre-line"),r.classList.remove("hidden"),t.length>0){let a=e;t.forEach(e=>{let t=RegExp(`(${e})`,"gi");a=a.replace(t,'<span class="bg-blue-100 text-blue-800 px-1 py-0.5 rounded font-medium">$1</span>')}),n.innerHTML=a}else n.textContent=e;a.appendChild(n)}(n.article_content,s),n.reply||"No response from backend"}catch(e){return console.error("Error communicating with the backend:",e),"Sorry, there was an error processing your request."}}document.getElementById("new-chat-btn").addEventListener("click",()=>{e.innerHTML="",a.innerHTML="",r.classList.add("hidden"),n.value=""}),t.addEventListener("submit",async t=>{t.preventDefault();let a=n.value.trim();if(!a)return;e.appendChild(s(a,"user")),n.value="",l();let r=await d(a);e.appendChild(s(r,"assistant")),l()});
//# sourceMappingURL=index.f2f8c1bd.js.map
